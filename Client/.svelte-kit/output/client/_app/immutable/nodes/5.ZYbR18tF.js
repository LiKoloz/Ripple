import{c as v,t as x,f as O}from"../chunks/disclose-version.BlHGoT9p.js";import{A as $,C as I,a6 as r,a4 as u,ay as m,M as a,K as p,L as d,az as f}from"../chunks/runtime.FD8xG2QE.js";import{p as g}from"../chunks/props.BaBg2LSh.js";import"../chunks/legacy.CN-pHe-p.js";import{I as h,B as j}from"../chunks/Input.B-0M5ygR.js";import"../chunks/Theme.svelte_svelte_type_style_lang.47xYrv3C.js";const M=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var J=x('<div class="mt-5 p-5 border border-2 border-dark rounded d-flex flex-content-center flex-column align-self-center"><h2 class=" svelte-13kbvt9">Вход</h2> <hr class="mb-3 mt-2"> <div class="area mt-5"><h3 class="svelte-13kbvt9">Логин</h3> <!></div> <div class="area mt-3"><h3 class="svelte-13kbvt9">Пароль</h3> <!></div> <!> <p class="pt-4 svelte-13kbvt9">Нету аккаунта? <br><a href="/signup" class="svelte-13kbvt9">Зарегиститруйтесь!</a></p></div>');function A(b,w){$(w,!0),function(){localStorage.getItem("jwt")!=null&&(window.location.href="/")}();let o=m(""),l=m("");async function y(){let e=await fetch("http://localhost:3003/users/sign_in/default",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r(o),password:r(l)})});if(e.ok){let t=await e.text();t=JSON.parse(JSON.parse(JSON.parse(JSON.stringify(t))));for(let s in t.user)localStorage.setItem(s,t.user[s]);localStorage.setItem("jwt",t.token),window.location.href="/"}}var n=J(),i=a(p(n),4),S=a(p(i),2);h(S,{class:"area mt-2",placeholder:"Введите никнейм",get value(){return r(o)},set value(e){u(o,g(e))}}),d(i);var c=a(i,2),_=a(p(c),2);h(_,{class:"area mt-2",type:"password",placeholder:"Введите пароль",get value(){return r(l)},set value(e){u(l,g(e))}}),d(c);var k=a(c,2);j(k,{outline:!0,color:"secondary",class:"mt-3 w-25 align-self-center",$$events:{click:async()=>await y()},children:(e,t)=>{f();var s=O("Войти");v(e,s)},$$slots:{default:!0}}),f(2),d(n),v(b,n),I()}export{A as component,M as universal};
